# 쇼핑 장바구니 기능 목록

- [ ] MVP
    - Presenter
    - [x] Shopping
        - CartRepository
        - [x] setUpCartAmount()
            - [x] updateCartAmount()
        - [x] private updateCartAmount()
            - [x] cartRepository.getTotalAmount()
            - [x] view.updateCartAmount(amount)
        - [x] decreaseCartProductAmount(productModel)
            - [x] getCartProduct(productModel)
            - [x] cartProduct.decreaseAmount()
            - [x] if(amount > 0)
                - [x] updateCartProduct(cartProduct)
            - [x] if(amount <= 0)
                - [x] removeFromCart(cartProduct)
            - [x] updateShoppingProduct(shoppingProductModel, cartProduct)
            - [x] updateCartAmount()
        - [x] private getCartProduct(productModel) : CartProduct
            - [x] cartRepository.getCartProductByProduct(product)
            - [x] if(cartProduct == null) CartProduct(...)
        - [x] private updateCartProduct(cartProduct)
            - [x] cartRepository.modifyCartProduct(cartProduct)
        - [x] private removeFromCart(cartProduct)
            - [x] cartRepository.deleteCartProduct(cartProduct)
        - [x] increaseCartProductAmount(productModel)
            - [x] getCartProduct(productModel)
            - [x] cartProduct.increaseAmount()
            - [x] if(amount > 1)
                - [x] updateCartProduct(cartProduct, productModel)
            - [x] if(amount <= 1)
                - [x] addToCart(cartProduct, productModel)
            - [x] updateShoppingProduct(shoppingProductModel, cartProduct)
            - [x] updateCartAmount()
        - [x] private addToCart(cartProduct)
            - [x] cartRepository.addCartProduct(cartProduct)
        - [x] private updateShoppingProduct(cartProduct, productModel)
            - [x] view.updateShoppingProduct(shoppingProductModel)
    - [x] ProductDetail
        - RecentProductRepository
        - [x] init { }
            - [x] view.setupRecentProductDetail(productModel)
        - [x] setupCartProductDialog()
            - [x] view.showCartProductDialog(productModel)
        - [x] openProduct()
            - [x] recentProductRepository.modifyRecentProduct(recentProduct)
            - [x] view.showRecentProductDetail(recentProductModel)
    - [x] CartProductDialog
        - CartProduct
        - [x] init { }
            - [x] create cart product
            - [x] updateCartProductAmount()
        - [x] decreaseCartProductAmount()
            - [x] if(amount > 1)
                - [x] cartProduct.decreaseAmount()
                - [x] updateCartProductAmount()
        - [x] increaseCartProductAmount()
            - [x] cartProduct.increaseAmount()
            - [x] updateCartProductAmount()
        - [x] private updateCartProductAmount()
            - [x] view.updateCartProductAmount(amount)
        - [x] addToCart()
            - [x] if (cartRepository.getCartProductByProduct(product) == null)
                - [x] cartRepository.addCartProduct(cartProduct)
            - [x] else
                - [x] updateCartProduct(cartProduct)
            - [x] view.notifyAddToCartCompleted()
        - [x] updateCartProduct(cartProduct)
            - [x] update amount to sum of prev cart product amount and current cart product
              amount
            - [x] cartRepository.modifyCartProduct(cartProduct)
    - [ ] Cart
        - Cart
        - [x] init { }
          - [x] view.updateCartTotalPrice(price: Int)
          - [x] view.updateCartTotalAmount(amount: Int)
        - [ ] updateCartProductChecked(cartProductModel)
            - [ ] updateCartProduct(cartProduct)
        - [ ] decreaseCartProductAmount()
            - [ ] if(amount > 1) updateCartProduct(cartProduct)
        - [ ] increaseCartProductAmount()
            - [ ] updateCartProduct(cartProduct)
        - [ ] private updateCartProduct(cartProduct)
            - [ ] cartRepository.updateCartProduct(cartProduct)
            - [ ] view.updateCartProduct(cartProductModel)
            - [ ] view.updateTotalPrice(difference)
            - [ ] view.updateCartAmount(amount)
        - [ ] updateCartProductCheckedInPage(List<CartProductModel>)
            - [ ] if(!isChecked) updateCartProduct(cartProduct)
- [x] SQLite
    - [x] Cart
        - [x] amount(Int)
- [x] Domain
    - [x] CartProduct
        - [x] Amount
        - [x] Checked
        - [x] decreaseAmount()
        - [x] increaseAmount()
        - [x] changeChecked(isChecked)
